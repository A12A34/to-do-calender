<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <title>Login & Calendar</title>
    <link rel="stylesheet" href="/main/calander.css">
    <script src="/main/calander.js" defer></script>
</head>
<body>
<a class="skip-link" href="#maincalander">Skip to calendar</a>

<!-- Login Page -->
<div id="loginPage">
    <h2>Login</h2>
    <form id="loginForm">
        <label for="username">Username:</label>
        <input type="text" id="username" name="username" required><br><br>
        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br><br>
        <button type="submit">Login</button>
    </form>
    <p id="loginError" style="color:red; display:none;">Invalid username or password</p>
</div>

<!-- Calendar Page -->
<div id="calendarPage" style="display:none;">
    <div id="fontgroup">
        <div class="user-info" aria-live="polite" aria-atomic="true">
            <span id="currentUserDisplay">Not signed in</span>
        </div>
        <div class="year-controls" role="group" aria-label="Calendar navigation">
            <button id="left_arrow" class="year-nav" type="button" aria-label="Previous year">&lt;</button>
            <div class="current-date">
                <span id="currentMonthLabel" aria-live="polite" aria-atomic="true">Month</span>
                <h1 id="currentyear" aria-live="polite" aria-atomic="true">Year</h1>
            </div>
            <button id="right_arrow" class="year-nav" type="button" aria-label="Next year">&gt;</button>
            <button id="todayBtn" title="Jump to current month">Today</button>
        </div>
        <div class="account-controls">
            <button id="changeAccountBtn" title="Switch account">Account</button>
        </div>
    </div>
    
    <!-- Month buttons row at top -->
    <div id="monthdev">
        <button class="monthbutton">January</button>
        <button class="monthbutton">February</button>
        <button class="monthbutton">March</button>
        <button class="monthbutton">April</button>
        <button class="monthbutton">May</button>
        <button class="monthbutton">June</button>
        <button class="monthbutton">July</button>
        <button class="monthbutton">August</button>
        <button class="monthbutton">September</button>
        <button class="monthbutton">October</button>
        <button class="monthbutton">November</button>
        <button class="monthbutton">December</button>
    </div>

    <section id="calendarStats" aria-live="polite" aria-label="Current month task summary">
        <div class="stat-item" data-stat="total">
            <span class="stat-label">Total Tasks</span>
            <span class="stat-value">0</span>
        </div>
        <div class="stat-item" data-stat="active">
            <span class="stat-label">Active</span>
            <span class="stat-value">0</span>
        </div>
        <div class="stat-item" data-stat="completed">
            <span class="stat-label">Completed</span>
            <span class="stat-value">0</span>
        </div>
        <div class="stat-item" data-stat="busiest">
            <span class="stat-label">Busiest Day</span>
            <span class="stat-value">â€”</span>
        </div>
    </section>
    
    <main id="maincalander">
        <div id="tododev" role="region" aria-labelledby="todoHeading">
            <h3 id="todoHeading">Upcoming Tasks</h3>
            <div id="searchbar">
                <input type="text" id="taskSearch" placeholder="Search tasks..." aria-label="Search tasks">
                <button id="clearSearch" title="Clear search" aria-label="Clear search">Clear</button>
            </div>
            <div id="filterbar" role="group" aria-label="Filter tasks">
                <button class="filter-btn active" data-filter="all" aria-pressed="true">All</button>
                <button class="filter-btn" data-filter="incomplete" aria-pressed="false">Active</button>
                <button class="filter-btn" data-filter="completed" aria-pressed="false">Completed</button>
            </div>
            <ul id="todolist" role="list"></ul>
            <input type="text" id="newTodo" placeholder="Add new task" style="display:none;">
            <button id="addTodo" style="display:none;">Add</button>
        </div>
        <div id="daysdev" role="grid" aria-label="Calendar days"></div>
    </main>
    
    <!-- Footer buttons outside to-do list -->
    <div id="footer-buttons">
        <button id="downloadBtn">Download Backup</button>
        <button id="restoreBtn">Restore Backup</button>
    </div>
</div>

</body>
</html>